package StepDefinition;

import static org.junit.Assert.assertEquals;

import java.util.List;
import java.util.Map;

import org.openqa.selenium.Alert;

import io.cucumber.datatable.DataTable;
import io.cucumber.java.en.And;
import io.cucumber.java.en.Then;
import page.actions.AddToCartActions;
import utils.SeleniumDriver;

public class Add_to_cart_steps {
	 private List<Integer> numbers;
	 private int sum;
	 
	AddToCartActions addtocartActions = new AddToCartActions();
	
	@And("I add samsung galaxy s6, Iphone6, Nexus6 to cart")
	public void i_add_samsung_galaxy_s6_iphone6_nexus6_to_cart() throws InterruptedException {
	    
		
		addtocartActions.clickSamsungGalaxyS6();
		addtocartActions.ClickAddToCartButton();
		Thread.sleep(6000);
		Alert alt = SeleniumDriver.getDriver().switchTo().alert();
		alt.accept();
		
		addtocartActions.ClickHomeLink();
		
		addtocartActions.ClickNexus6();
		addtocartActions.ClickAddToCartButton();
		Thread.sleep(5000);
		alt.accept();
		
		addtocartActions.ClickHomeLink();
		
		addtocartActions.ClickIphone632GB();
		addtocartActions.ClickAddToCartButton();
		Thread.sleep(4000);
		alt.accept();
		
		
	}

	@And("I click cart")
	public void i_click_cart() throws InterruptedException {

		addtocartActions.ClickCartLink();
		Thread.sleep(5000);
		
		
	}
	
	
	
	
	@Then("I should see the following on the products page:")
	public void i_should_see_the_following_on_the_products_page(DataTable dataTable) {

		List<Map<String, String>>userList = dataTable.asMaps(String.class, String.class);
		
	
		//System.out.println("This is my map" +userList);
		//System.out.println("This is my samsung title" +userList.get(2).get("Title"));
		
		String ActSamsungTitle = addtocartActions.SamsungGalaxyGetTitle();
		String ActNexusTitle = addtocartActions.Nexus6GetTitle();
		String ActIPhone = addtocartActions.IPhone6GetTitle();
		
		
		assertEquals(userList.get(0).get("Title"), ActSamsungTitle);
		assertEquals(userList.get(1).get("Title"), ActIPhone);
		assertEquals(userList.get(2).get("Title"), ActNexusTitle);

	

	}
	
	@Then("the prices for each item are")
	public void the_prices_for_each_item_are(List<Integer> numbers) {
	    // Write code here that turns the phrase above into concrete actions
	    // For automatic transformation, change DataTable to one of
	    // E, List<E>, List<List<E>>, List<Map<K,V>>, Map<K,V> or
	    // Map<K, List<V>>. E,K,V must be a String, Integer, Float,
	    // Double, Byte, Short, Long, BigInteger or BigDecimal.
	    //
	    // For other transformations you can register a DataTableType.
	    throw new io.cucumber.java.PendingException();
	}
	@Then("when I summarize them")
	public void when_i_summarize_them() {
	    // Write code here that turns the phrase above into concrete actions
	    throw new io.cucumber.java.PendingException();
	}
	@Then("I should get {int}")
	public void i_should_get(Integer int1) {
	    // Write code here that turns the phrase above into concrete actions
	    throw new io.cucumber.java.PendingException();
	}
	
	

}
